import nmap
import argparse
psr = argparse.ArgumentParser()
psr.add_argument('-d', dest='host', default='59.66.16.1', help='host ip')
args = psr.parse_args()
host = args.host
nm = nmap.PortScanner()
nm.scan(host, '1-10000', '-sV')
print(nm.all_hosts())
print(nm.command_line())
print(nm.csv())
print('host:{};name:{};state{}'.format(host, nm[host].hostname(), nm[host].state()))